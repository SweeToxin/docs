<!DOCTYPE html>
<html lang="en" ng-app="docs">
  <head>
    
      <title>deployd</title>
    
    <link href='http://fonts.googleapis.com/css?family=Bitter:400,700,400italic' rel='stylesheet' type='text/css'>
    <link href="../../../stylesheets/style.css" rel='stylesheet' type='text/css'>
    <link href="../../../stylesheets/prettify.css" rel='stylesheet' type='text/css'>
    <script src="../../../javascripts/libs/angular.js"></script>
    <script src="../../../javascripts/libs/angular-sanitize.js"></script>
    <script src="../../../javascripts/libs/jquery-1.8.2.js"></script>
    <script src="../../../javascripts/libs/bootstrap.js"></script>
    <script src="../../../javascripts/libs/jquery.highlight.js"></script>
    <script src="../../../javascripts/libs/jquery.masonry.js"></script>
    <script src="../../../javascripts/libs/prettify.js"></script>

    <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-27539606-3']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();

    </script>
  </head>
  

  <body>
    <div class="navbar navbar-static-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="brand" href="//deployd.com">
            <img src="//deployd.com/img/logo-text.png">
          </a>
          <div class="nav-collapse">
            <ul class="nav">
              <!--<li><a href="//cloud.deployd.com">cloud</a></li>-->
              <li class="active"><a href="//docs.deployd.com">docs</a></li>
              <li><a href="https://groups.google.com/forum/?fromgroups#!forum/deployd-users">community</a></li>
              <!--li><a href="//deployd.com/blog.html">blog</a></li-->
            </ul>
          </div><!--/.nav-collapse -->

          <div id="search" removed-ng-controller="SearchCtrl" class="pull-right">
  <form class="navbar-search" method="get" action="http://www.google.com/search">
    <input type="hidden" name="sitesearch" value="docs.deployd.com" />
    <input value="" placeholder="search docs" id="search-input" name="q" type="text" ng-change="change()" ng-model="input" />
  </form>
  <ul id="search-terms" class="typeahead unstyled" ng-show="terms.length" ng-cloak>
    <li ng-repeat="term in terms" class="{{ term.active && 'active' }}" ng-click="choose($index)">
      {{ term.title || term.reference }}
    </li>
  </ul>
</div>




          <div id="social" class="nav-collapse pull-left">
            <ul class="nav">
              <li><iframe allowtransparency="true" frameborder="0" scrolling="no" src="http://platform.twitter.com/widgets/tweet_button.1354270846.html#_=1354747685285&amp;count=horizontal&amp;id=twitter-widget-0&amp;lang=en&amp;original_referer=http%3A%2F%2Fdeployd.com%2F&amp;size=m&amp;text=Deployd%20Platform%20(%40deploydapp)%20-%20The%20simplest%20way%20to%20build%20APIs.&amp;url=http%3A%2F%2Fwww.deployd.com" class="twitter-share-button twitter-count-horizontal" style="width: 107px; height: 20px;" title="Twitter Tweet Button" data-twttr-rendered="true"></iframe>
      <script type="text/javascript" async="" src="http://www.google-analytics.com/ga.js"></script><script id="twitter-wjs" src="//platform.twitter.com/widgets.js"></script><script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script></li>
            </ul>
          </div>
        </div>
      </div>
    </div>

    <div class="navbar navbar-static-top secondary-nav">
      <div class="navbar-inner">
        <div class="container">
          <ul class="nav">
            <li class="home"><a href="../../../">home</a></li>
            <li class="guides" ><a href="../../../guides">guides</a></li>
            <li class="api"><a href="../../../api">api</a></li>
            <li class="examples"><a href="../../../examples">examples</a></li>
            <li class="modules"><a href="../../../modules">modules</a></li>
          </ul>
        </div>
      </div>
    </div>

    <div class="container">
      

<ul id="breadcrumb" class="unstyled">

  <li><a href="../../../docs">Docs</a><span>/</span></li>

  <li><a href="../../../docs/collections">Collections</a><span>/</span></li>

  <li>Reference</li>
  
  <li>(<a href="../../../docs/collections/reference/include-all.html">View All</a>)</li>
  
</ul>

<div id="browser" class="row">
  <div id="sidebar" class="span3">
    

<div id="explorer">
  <ul id="files" class="nav">
    
      <li class=""><a href="../../../docs/collections/reference/event-api.html"><i class="icon-file"></i> <span>Event API</span></a></li>
    
      <li class=""><a href="../../../docs/collections/reference/http.html"><i class="icon-file"></i> <span>Over HTTP</span></a></li>
    
      <li class=""><a href="../../../docs/collections/reference/querying-collections.html"><i class="icon-file"></i> <span>Querying Collections</span></a></li>
    
      <li class=""><a href="../../../docs/collections/reference/updating-objects.html"><i class="icon-file"></i> <span>Updating Objects in Collections</span></a></li>
    
      <li class="active"><a href="../../../docs/collections/reference/dpd-js.html"><i class="icon-file"></i> <span>Using dpd.js</span></a></li>
    
    
  </ul>
  
</div>


    
      <h4>Related APIs</h4>
      <div id="related-apis">
        <div id="api">
  
      
        
            <ul class="nav nav-list collections">
              <li class="nav-header"><a href="../../../docs/collections/reference/event-api.html">Event API</a></li>
            
      <li><a href="../../../docs/collections/reference/event-api.html#s-this-764">this</a></li>
    
      <li><a href="../../../docs/collections/reference/event-api.html#s-me-764">me</a></li>
    
      <li><a href="../../../docs/collections/reference/event-api.html#s-isMe()-764">isMe()</a></li>
    
      <li><a href="../../../docs/collections/reference/event-api.html#s-query-764">query</a></li>
    
      <li><a href="../../../docs/collections/reference/event-api.html#s-cancel()-764">cancel()</a></li>
    
      <li><a href="../../../docs/collections/reference/event-api.html#s-cancelIf(), cancelUnless()-764">cancelIf(), cancelUnless()</a></li>
    
      <li><a href="../../../docs/collections/reference/event-api.html#s-error()-764">error()</a></li>
    
      <li><a href="../../../docs/collections/reference/event-api.html#s-errorIf(), errorUnless()-764">errorIf(), errorUnless()</a></li>
    
      <li><a href="../../../docs/collections/reference/event-api.html#s-hide()-764">hide()</a></li>
    
      <li><a href="../../../docs/collections/reference/event-api.html#s-protect()-764">protect()</a></li>
    
      <li><a href="../../../docs/collections/reference/event-api.html#s-changed()-764">changed()</a></li>
    
      <li><a href="../../../docs/collections/reference/event-api.html#s-previous-764">previous</a></li>
    
      <li><a href="../../../docs/collections/reference/event-api.html#s-emit()-764">emit()</a></li>
    
      <li><a href="../../../docs/collections/reference/event-api.html#s-internal-764">internal</a></li>
    
      <li><a href="../../../docs/collections/reference/event-api.html#s-isRoot-764">isRoot</a></li>
    
      <li><a href="../../../docs/collections/reference/event-api.html#s-console.log()-764">console.log()</a></li>
    
            </ul>
            
            <ul class="nav nav-list collections">
              <li class="nav-header"><a href="../../../docs/collections/reference/querying-collections.html">Querying Collections</a></li>
            
      <li><a href="../../../docs/collections/reference/querying-collections.html#s-Comparison ($gt, $lt, $gte, $lte)-1556">Comparison ($gt, $lt, $gte, $lte)</a></li>
    
      <li><a href="../../../docs/collections/reference/querying-collections.html#s-$ne (Not Equal)-1556">$ne (Not Equal)</a></li>
    
      <li><a href="../../../docs/collections/reference/querying-collections.html#s-$in-1556">$in</a></li>
    
      <li><a href="../../../docs/collections/reference/querying-collections.html#s-$regex-1556">$regex</a></li>
    
      <li><a href="../../../docs/collections/reference/querying-collections.html#s-$fields-1416">$fields</a></li>
    
      <li><a href="../../../docs/collections/reference/querying-collections.html#s-$or-1416">$or</a></li>
    
      <li><a href="../../../docs/collections/reference/querying-collections.html#s-$sort-1416">$sort</a></li>
    
      <li><a href="../../../docs/collections/reference/querying-collections.html#s-$limit-1416">$limit</a></li>
    
      <li><a href="../../../docs/collections/reference/querying-collections.html#s-$skip-1416">$skip</a></li>
    
      <li><a href="../../../docs/collections/reference/querying-collections.html#s-$limitRecursion-1416">$limitRecursion</a></li>
    
            </ul>
            
            <ul class="nav nav-list collections">
              <li class="nav-header"><a href="../../../docs/collections/reference/updating-objects.html">Updating Objects in Collections</a></li>
            
      <li><a href="../../../docs/collections/reference/updating-objects.html#s-$inc-3004">$inc</a></li>
    
      <li><a href="../../../docs/collections/reference/updating-objects.html#s-$push-3004">$push</a></li>
    
      <li><a href="../../../docs/collections/reference/updating-objects.html#s-$pushAll-3004">$pushAll</a></li>
    
      <li><a href="../../../docs/collections/reference/updating-objects.html#s-$pull-3004">$pull</a></li>
    
      <li><a href="../../../docs/collections/reference/updating-objects.html#s-$pullAll-3004">$pullAll</a></li>
    
            </ul>
            
            <ul class="nav nav-list collections">
              <li class="nav-header"><a href="../../../docs/collections/reference/dpd-js.html">Using dpd.js</a></li>
            
      <li><a href="../../../docs/collections/reference/dpd-js.html#s-.get([id], [query], fn)-1286">.get([id], [query], fn)</a></li>
    
      <li><a href="../../../docs/collections/reference/dpd-js.html#s-.post([id], object, fn)">.post([id], object, fn)</a></li>
    
      <li><a href="../../../docs/collections/reference/dpd-js.html#s-.put([id or query], object, fn)">.put([id or query], object, fn)</a></li>
    
      <li><a href="../../../docs/collections/reference/dpd-js.html#s-.del(id or query, fn)">.del(id or query, fn)</a></li>
    
      <li><a href="../../../docs/collections/reference/dpd-js.html#s-dpd.on(message, fn)-1069">dpd.on(message, fn)</a></li>
    
      <li><a href="../../../docs/collections/reference/dpd-js.html#s-dpd.off(message, [fn])-1069">dpd.off(message, [fn])</a></li>
    
      <li><a href="../../../docs/collections/reference/dpd-js.html#s-dpd.once(message, fn)-1069">dpd.once(message, fn)</a></li>
    
      <li><a href="../../../docs/collections/reference/dpd-js.html#s-dpd.socketReady(fn)-1069">dpd.socketReady(fn)</a></li>
    
      <li><a href="../../../docs/collections/reference/dpd-js.html#s-dpd.socket-1069">dpd.socket</a></li>
    
            </ul>
            
      
    
</div>




      </div>
    
  </div>
  <div class="span9 sections">
    
      

  <div class="section"><a name="s-Dpd.js"></a><h2>Dpd.js <a class="anchor-link" href="#s-Dpd.js">#</a></h2>

<p><code>dpd.js</code> is an auto-generated library that provides access to Collections and other Deployd features on the front-end. For a basic overview, see <a href="../../../docs/collections/accessing-collections.html">Accessing Collections with dpd.js</a>.</p><div class="section"><a name="s-Accessing the Collection-547"></a><h3>Accessing the Collection <a class="anchor-link" href="#s-Accessing the Collection-547">#</a></h3>

<p>The API for your Collection is automatically generated as <code>dpd.[collectionname]</code>.</p>

<p>Examples:</p>

<pre><code>dpd.todos
dpd.users
dpd.todolists
</code></pre>

<p><em>Note: If your Collection name has a dash in it (e.g. <code>/todo-lists</code>), the dash is removed when accessing it in this way (e.g. <code>dpd.todolists</code>).</em></p>

<p>You can also access your collection by using <code>dpd(collectionName)</code> as a function.</p>

<p>Examples:</p>

<pre><code>dpd('todos')
dpd('users')
dpd('todo-lists')
</code></pre>

<p><em>Note: Collections accessed in this way will not have helper functions besides <code>get</code>, <code>post</code>, <code>put</code>, <code>del</code>, and <code>exec</code> (see <a href="../../../docs/using-modules/reference/dpd-js.html">Dpd.js for Custom Resources</a> for details on these generic functions)</em></p></div><div class="section"><a name="s-Collection API-547"></a><h3>Collection API <a class="anchor-link" href="#s-Collection API-547">#</a></h3>

<p>The examples below use a Collection called <code>/todos</code> with the following schema:</p>

<ul>
<li><code>id</code></li>
<li>string <code>title</code></li>
<li>string <code>category</code></li>
</ul><div class="section"><a name="s-Callbacks-1286"></a><h4>Callbacks <a class="anchor-link" href="#s-Callbacks-1286">#</a></h4>

<p>Every function in the Collection API takes a callback function (represented by <code>fn</code> in the docs) with the signature <code>function(result, error)</code>.</p>

<p>The callback will be executed asynchronously when the API has received a response from the server.</p>

<p>The <code>result</code> argument differs depending on the function. If the result failed, it will be <code>null</code> and the <code>error</code> argument will contain the error message.</p>

<p>The <code>error</code> argument, if there was an error, is an object:</p>

<ul>
<li><code>status</code> (number): The HTTP status code of the request. Common codes include:
<ul><li>400 - Bad Request: The request contained invalid data and could not be completed</li>
<li>401 - Unauthorized: The current session is not authorized to perform that action</li>
<li>500 - Internal Server Error: Something went wrong on the server</li></ul></li>
<li><code>message</code> (string): A message describing the error. Not always present.</li>
<li><code>errors</code> (object): A hash of error messages corresponding to the properties of the object that were sent - usually indicates validation errors. Not always present.</li>
</ul>

<p>Examples of errors:</p>

<pre><code>{
  "status": 401,
  "message": "You are not allowed to access that collection!"
}
</code></pre>

<!--...-->

<pre><code>{
  "status": 400,
  "errors": {
      "title": "Title must be less than 100 characters",
      "category": "Not a valid category"
  }
}
</code></pre></div><div class="section"><a name="s-Promises-1286"></a><h4>Promises <a class="anchor-link" href="#s-Promises-1286">#</a></h4>

<p>Every function in the collection API returns a promise.
We use the <a href="https://github.com/cburgmer/ayepromise"><code>ayepromise</code> library</a> (which follows the <a href="https://promisesaplus.com/">Promises/A+ 1.1 specs</a>).
To learn how to use promises, please, refer <a href="http://www.html5rocks.com/en/tutorials/es6/promises">to this article</a>.</p>

<p>The first callback contains the same <code>result</code> same with the classic callbacks.
The second callback contains the <code>error</code> object as described above.
Here's an example to use promises within dpd.js:</p>

<pre><code>dpd.todos.post({message: "Hello world"}).then(function(todo) {
  // do something with todo
  console.log(todo); // display {id: "###", message: 'Hello world'}
}, function(err) {
  // do something with the error
  console.log(err); // display an error if the request failed
});
</code></pre>

<!--...-->

<pre><code>dpd.todos.get('1234324324').then(function(todo) {
  // do something with todo
  console.log(todo); // display {id: "###", message: 'Hello world'}
}, function(err) {
  // do something with the error
  console.log(err.errors.message); // display the error message
});
</code></pre></div><div class="section api"><a name="s-.get([id], [query], fn)-1286"></a><h4>.get([id], [query], fn) <!-- api --> <a class="anchor-link" href="#s-.get([id], [query], fn)-1286">#</a></h4><div class="section"><a name="s-Listing Data-1950"></a><h5>Listing Data <a class="anchor-link" href="#s-Listing Data-1950">#</a></h5>

<p>The <code>.get(fn)</code> function returns an array of objects in the collection.</p>

<pre><code>// Get all todos
dpd.todos.get(function(results, error) {
  //Do something
});
</code></pre>

<p><code>results</code> is an array of objects:</p>

<pre><code>[
  {
    "id": "320d6151a9aad8ce",
    "title": "Wash the dog",
    "category": "pets"
  }, {
    "id": "320d6151a9aad8ce"
    "title": "Write autobiography",
    "category": "writing"
  }
]
</code></pre>

<p>If the collection has no objects, it will be an empty array:</p>

<pre><code>[]
</code></pre></div><div class="section"><a name="s-Querying Data-1950"></a><h5>Querying Data <a class="anchor-link" href="#s-Querying Data-1950">#</a></h5>

<p>The <code>.get(query, fn)</code> function filters results by the specified query object. See <a href="../../../docs/collections/reference/querying-collections.html">Querying Collections</a> for information on constructing a query.</p>

<pre><code>// Get all todos that are in the pets category
dpd.todos.get({category: 'pets'}, function(results, error) {
  // Do something
});
</code></pre>

<p><code>results</code> is an array of objects:</p>

<pre><code>[
  {
    "id": "320d6151a9aad8ce",
    "title": "Wash the dog",
    "category": "pets"
  }
]
</code></pre></div><div class="section"><a name="s-Getting a Specific Object-1950"></a><h5>Getting a Specific Object <a class="anchor-link" href="#s-Getting a Specific Object-1950">#</a></h5>

<p>The <code>.get(id, fn)</code> function returns a single object by its <code>id</code> property.</p>

<pre><code>// Get a specific todo
dpd.todos.get("320d6151a9aad8ce", function(result, error) {
  // Do something
});
</code></pre>

<p><code>result</code> is the object that you requested:</p>

<pre><code>{
  "id": "320d6151a9aad8ce",
  "title": "Wash the dog",
  "category": "pets"
}
</code></pre></div><div class="section api"><a name="s-.post([id], object, fn)"></a><h4>.post([id], object, fn) <!-- api --> <a class="anchor-link" href="#s-.post([id], object, fn)">#</a></h4><div class="section"><a name="s-Creating an Object-1965"></a><h5>Creating an Object <a class="anchor-link" href="#s-Creating an Object-1965">#</a></h5>

<p>The <code>.post(object, fn)</code> function creates an object in the collection with the specified properties.</p>

<pre><code>// Create a todo
dpd.todos.post({title: "Walk the dog"}, function(result, error)) {
  // Do something
});
</code></pre>

<p><code>result</code> is the object that you posted, with any additional calculated properties and the <code>id</code>:</p>

<pre><code>{
  "id": "91c621a3026ca8ef",
  "title": "Walk the dog"
}
</code></pre></div><div class="section"><a name="s-Updating an Object-1965"></a><h5>Updating an Object <a class="anchor-link" href="#s-Updating an Object-1965">#</a></h5>

<p>The <code>.post(id, object, fn)</code> function, or <code>.post(object, fn)</code> where <code>object</code> has an <code>id</code> property, will update an object. Using the <code>.post()</code> function in this way behaves the same as the <code>put()</code> function.</p>

<p>This is useful when you want to insert an object if it does not exist and update it if it does.</p></div><div class="section api"><a name="s-.put([id or query], object, fn)"></a><h4>.put([id or query], object, fn) <!-- api --> <a class="anchor-link" href="#s-.put([id or query], object, fn)">#</a></h4><div class="section"><a name="s-Updating an Object-2711"></a><h5>Updating an Object <a class="anchor-link" href="#s-Updating an Object-2711">#</a></h5>

<p>The <code>.put(id, object, fn)</code> function will update an object that is already in the collection. It will only change the properties that are provided. It is also possible to incrementally update certain properties; see <a href="../../../docs/collections/reference/updating-objects.html">Updating Objects in Collections</a> for details.</p>

<pre><code>// Update a todo
dpd.todos.put("91c621a3026ca8ef", {title: "Walk the cat"}, function(result, error)) {
  // Do something
});
</code></pre>

<p>You can also use the syntax <code>put(object, fn)</code> if <code>object</code> has an <code>id</code> property:</p>

<pre><code>// Update a todo
dpd.todos.put({id: "91c621a3026ca8ef", title: "Walk the cat"}, function(result, error)) {
  // Do something
});
</code></pre>

<p>Finally, you can provide a <code>query</code> object to ensure that the object you are updating has the correct properties. You must still provide an <code>id</code> property. This can be useful as a failsafe.</p>

<pre><code>// Update a todo only if it is in the "pets" category
dpd.todos.put(
  {id: "91c621a3026ca8ef", category: "pets"},
  {title: "Walk the cat"},
  function(result, error) {
    // Do something
  });
</code></pre>

<p><code>result</code> is the entire object after the update:</p>

<pre><code>{
  "id": "91c621a3026ca8ef",
  "title": "Walk the cat",
  "category": "pets"
}
</code></pre>

<p>The <code>.put()</code> function will return an error if the <code>id</code> and/or <code>query</code> does not match any object in the collection:</p>

<pre><code>{
  "status":400,
  "message":"No object exists that matches that query"
}
</code></pre></div><div class="section api"><a name="s-.del(id or query, fn)"></a><h4>.del(id or query, fn) <!-- api --> <a class="anchor-link" href="#s-.del(id or query, fn)">#</a></h4><div class="section"><a name="s-Deleting an Object-1784"></a><h5>Deleting an Object <a class="anchor-link" href="#s-Deleting an Object-1784">#</a></h5>

<p>The <code>.del(id, fn)</code> function will delete an object from the collection.</p>

<pre><code>// Delete an object
dpd.todos.del("91c621a3026ca8ef", function(result, error) {
  // Do something
});
</code></pre>

<p>You can also use the syntax <code>.del(query, fn)</code> if <code>object</code> has an <code>id</code> property. You can add additional properties to the <code>query</code> object to ensure that you are removing the correct object:</p>

<pre><code>// Delete an object
dpd.todos.del({id: "91c621a3026ca8ef", title: "Walk the dog"}, function(result, error) {
  // Do something
});
</code></pre>

<p><code>result</code> will always be null.</p></div></div></div></div></div></div></div><div class="section"><a name="s-Realtime API"></a><h3>Realtime API <a class="anchor-link" href="#s-Realtime API">#</a></h3><div class="section api"><a name="s-dpd.on(message, fn)-1069"></a><h4>dpd.on(message, fn) <!-- api --> <a class="anchor-link" href="#s-dpd.on(message, fn)-1069">#</a></h4>

<p>The <code>dpd.on(message, fn)</code> function listens for realtime messages emitted from the server. See <a href="../../../docs/collections/notifying-clients.html">Notifying the Client of Changes</a> for information on sending realtime messages with the <code>emit()</code> function.</p>

<ul>
<li><code>message</code> - The name of the message to listen for</li>
<li><code>fn</code> - Callback <code>function(messageData)</code>. Called every time the message is received. There is no <code>error</code> argument.</li>
</ul>

<!--seperate-->

<pre><code>// Listen for a new todo
dpd.on('todos:create', function(post) {
  // Do something
});
</code></pre>

<p>In your Collection Event:</p>

<pre><code>// On Post
emit('todos:create', this);
</code></pre>

<p>Calling <code>.on()</code> on the collection itself will namespace the message by the collection name:</p>

<pre><code>// Same as dpd.on('todos:create', fn)
dpd.todos.on('create', function(post) {
  // Do something
});
</code></pre></div><div class="section api"><a name="s-dpd.off(message, [fn])-1069"></a><h4>dpd.off(message, [fn]) <!-- api --> <a class="anchor-link" href="#s-dpd.off(message, [fn])-1069">#</a></h4>

<p>The <code>dpd.off(message)</code> function stops listening for the specified message.</p>

<pre><code>dpd.off('todos:create');
</code></pre>

<p>You can also provide a function that was originally set as a listener to remove only that function.</p>

<pre><code>function onTodoCreated(post) {
  // Do something
}

dpd.on('todos:create', onTodoCreated);

dpd.off('todos:create', onTodoCreated);
</code></pre>

<p>Calling <code>.off()</code> on the collection itself will namespace the message by the collection name:</p>

<pre><code>// Same as dpd.off('todos:create');
dpd.todos.off('create');
</code></pre></div><div class="section api"><a name="s-dpd.once(message, fn)-1069"></a><h4>dpd.once(message, fn) <!-- api --> <a class="anchor-link" href="#s-dpd.once(message, fn)-1069">#</a></h4>

<p>The <code>dpd.once(message, fn)</code> function listens for a realtime message emitted by the server and runs the <code>fn</code> callback exactly once.</p>

<pre><code>dpd.once('todos:create', function(post) {
  // Do something
});
</code></pre>

<p>Calling <code>.once()</code> on the collection itself will namespace the message by the collection name:</p>

<pre><code>// Same as dpd.once('todos:create');
dpd.todos.once('create', function(post) {
  // Do something
});
</code></pre></div><div class="section api"><a name="s-dpd.socketReady(fn)-1069"></a><h4>dpd.socketReady(fn) <!-- api --> <a class="anchor-link" href="#s-dpd.socketReady(fn)-1069">#</a></h4>

<p>The <code>dpd.socketReady(fn)</code> function waits for a connection to be established to the server and executes the <code>fn</code> callback with no arguments. If a connection has already been established, it will execute the <code>fn</code> callback immediately.</p>

<p>It can sometimes take a second or more to establish a connection, and messages sent during this time will not be received by your front end. This function is useful for ensuring that you will receive an message when it is broadcast.</p>

<pre><code>dpd.socketReady(function() {
  // Do something
});
</code></pre></div><div class="section api"><a name="s-dpd.socket-1069"></a><h4>dpd.socket <!-- api --> <a class="anchor-link" href="#s-dpd.socket-1069">#</a></h4>

<p>The <code>dpd.socket</code> object is a <a href="http://socket.io/#how-to-use">socket.io</a> object. This is useful if you want to finely control how messages are received.</p></div></div>  

    
    <h3 style="text-align: center;">More</h3>

    
    
    <div class="row-fluid">
      <div class="span6">
        <div class="well">
          <h4>Other docs in "Reference"</h4>
          <ul>
            
              <li><a href="../../../docs/collections/reference/event-api.html">Event API</a></li>
            
              <li><a href="../../../docs/collections/reference/http.html">Over HTTP</a></li>
            
              <li><a href="../../../docs/collections/reference/querying-collections.html">Querying Collections</a></li>
            
              <li><a href="../../../docs/collections/reference/updating-objects.html">Updating Objects in Collections</a></li>
            
          </ul>
        </div>
      </div>
       
        <div class="span6">
          <div class="well">
            <h4>Related Examples</h4>
            <ul>
              
                <li><a href="../../../docs/collections/examples/a-simple-todo-app.html">A Simple Todo App</a></li>
              
                <li><a href="../../../docs/collections/examples/a-simple-todo-app-with-angular.html">A Simple Todo App with AngularJS</a></li>
              
                <li><a href="../../../docs/collections/examples/a-simple-todo-app-with-backbone.html">A Simple Todo App with Backbone.js</a></li>
              
                <li><a href="../../../docs/collections/examples/chatroom.html">Chatroom</a></li>
              
            </ul>
          </div>
        </div>
      
    </div>
  </div>
</div>
    </div>
    
    <div class="docs-nav">
      <div class="container">
        <div class="row">
          <div class="span3">
            <h3>Guides</h3>
            <ul class="nav nav-list">
              
                <li><a href="../../../docs/getting-started">Getting Started</a></li>
              
                <li><a href="../../../docs/basics">Basics</a></li>
              
                <li><a href="../../../docs/collections">Collections</a></li>
              
                <li><a href="../../../docs/users">Users</a></li>
              
                <li><a href="../../../docs/using-modules">Using Modules</a></li>
              
                <li><a href="../../../docs/server">The Deployd Server</a></li>
              
                <li><a href="../../../docs/developing-modules">Developing Modules</a></li>
              
            </ul>
          </div>
          <div class="span3">
            <h3>APIs</h3>
            <ul class="nav nav-list">
              
                <li class="nav-header"><a href="../../../docs/collections/reference">Collections</a></li>
                
                  <li><a href="../../../docs/collections/reference/event-api.html">Event API</a></li>
                
                  <li><a href="../../../docs/collections/reference/http.html">Over HTTP</a></li>
                
                  <li><a href="../../../docs/collections/reference/querying-collections.html">Querying Collections</a></li>
                
                  <li><a href="../../../docs/collections/reference/updating-objects.html">Updating Objects in Collections</a></li>
                
                  <li><a href="../../../docs/collections/reference/dpd-js.html">Using dpd.js</a></li>
                
              
                <li class="nav-header"><a href="../../../docs/using-modules/reference">Using Modules</a></li>
                
                  <li><a href="../../../docs/using-modules/reference/dpd-js.html">Dpd.js for Custom Resources</a></li>
                
                  <li><a href="../../../docs/using-modules/reference/event-api.html">Event API for Custom Resources</a></li>
                
              
                <li class="nav-header"><a href="../../../docs/developing-modules/internal-api">Developing Modules</a></li>
                
                  <li><a href="../../../docs/developing-modules/internal-api/collection.html">Collection Resource Type</a></li>
                
                  <li><a href="../../../docs/developing-modules/internal-api/context.html">Context</a></li>
                
                  <li><a href="../../../docs/developing-modules/internal-api/script.html">Event Scripts</a></li>
                
                  <li><a href="../../../docs/developing-modules/internal-api/internal-client.html">Internal Client</a></li>
                
                  <li><a href="../../../docs/developing-modules/internal-api/resource.html">Resource Types</a></li>
                
                  <li><a href="../../../docs/developing-modules/internal-api/server.html">Server</a></li>
                
                  <li><a href="../../../docs/developing-modules/internal-api/session.html">Session</a></li>
                
                  <li><a href="../../../docs/developing-modules/internal-api/session-store.html">Session Store</a></li>
                
                  <li><a href="../../../docs/developing-modules/internal-api/store.html">Store</a></li>
                
              
            </ul>
          </div>
          <div class="span3">
            <h3>Examples</h3>
            <ul class="nav nav-list">
              
                <li class="nav-header"><a href="../../../docs/collections">Collections</a></li>
                
                  <li><a href="../../../docs">A Simple Todo App</a></li>
                
                  <li><a href="../../../docs">A Simple Todo App with AngularJS</a></li>
                
                  <li><a href="../../../docs">A Simple Todo App with Backbone.js</a></li>
                
                  <li><a href="../../../docs">Chatroom</a></li>
                
              
                <li class="nav-header"><a href="../../../docs/users">Users</a></li>
                
                  <li><a href="../../../docs">Microblogging app</a></li>
                
                  <li><a href="../../../docs">Simple Login Form</a></li>
                
              
                <li class="nav-header"><a href="../../../docs/developing-modules">Developing Modules</a></li>
                
                  <li><a href="../../../docs">Email Resource</a></li>
                
                  <li><a href="../../../docs">Event Resource</a></li>
                
                  <li><a href="../../../docs">S3 Bucket Resource</a></li>
                
              
            </ul>
          </div>
          <div class="span3">
            <div id="feedback">
              <h3>Feedback</h3>
              <p>Let us know if you have any ideas to improve our docs. Open an <a href="https://github.com/deployd/docs/issues">issue on github</a>, <a href="mailto: hello@deployd.com">send us an email</a>, or <a href="https://twitter.com/deploydapp">tweet us</a>.</p>
            </div>
            <div id="download">
              <h3>Edit or Download these Docs</h3>
              <p>This entire site, including documentation written in markdown is <a href="https://github.com/deployd/docs">available on github</a>. Pull requests are appreciated!</p>
            </div>
          </div>
        </div>
      </div>
    </div>
    <footer>
      <div class="container">
        <div class="row">
          <div class="span navigation">
            <dl>
              <dt><img src="//deployd.com/img/footer-dt.png" alt="deployd"></dt>
              <dd><a href="http://deployd.com/">Home</a></dd>
              <dd><a href="http://deployd.com/video.html">Screencast</a></dd>
              <dd><a href="http://deployd.com/features.html">Features</a></dd>
              <dd><a href="https://github.com/deployd/deployd/issues">Support</a></dd>
            </dl>
            <dl>
              <dt>documentation</dt>
              <dd><a href="http://docs.deployd.com/guides">Guides</a></dd>
              <dd><a href="http://docs.deployd.com/api">API</a></dd>
              <dd><a href="http://docs.deployd.com/examples">Examples</a></dd>
              <dd><a href="http://docs.deployd.com/modules">Modules</a></dd>
            </dl>
            <dl>
              <dt>community</dt>
              <dd><a href="http://deployd.com/community.html">Questions</a></dd>
              <dd><a href="https://twitter.com/deploydapp">Tweets</a></dd>
              <dd><a href="https://github.com/deployd/deployd/issues">Issues</a></dd>
              <dd><a href="https://github.com/deployd/deployd">Github</a></dd>
            </dl>
            <dl>
              <dt>contact</dt>
              <dd><a href="mailto:hello@deployd.com">hello@deployd.com</a></dd>
            </dl>
          </div>
          <div class="span logo-container">
            <div class="logo">
              <img src="//deployd.com/img/footer-logo.png" alt="deployd">
            </div>
          </div>
          <div class="span email-container">
            <dl id="mc_embed_signup" class="span4">
            <dt>Get deployd emails</dt>
            <dd>
              <form action="http://deployd.us2.list-manage.com/subscribe/post?u=4f1b944ba8c90738eb8e3fa3c&amp;id=7bb18e6b80" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate form-vertical" target="_blank" novalidate="">
              <div class="mc-field-group">
                <input type="email" placeholder="your@email" value="" name="EMAIL" class="required email" id="mce-EMAIL"><input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button btn">
              </div>
                <div id="mce-responses" class="clear">
                  <div class="response" id="mce-error-response" style="display:none"></div>
                  <div class="response" id="mce-success-response" style="display:none"></div>
                </div>
              </form>
            </dd>
          </dl>
          </div>
        </div>
      </div>
    </footer>
    <script src="../../../javascripts/app.js"></script>
  </body>
</html>
