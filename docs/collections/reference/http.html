<!DOCTYPE html>
<html lang="en" ng-app="docs">
  <head>
    
      <title>deployd</title>
    
    <link href='http://fonts.googleapis.com/css?family=Bitter:400,700,400italic' rel='stylesheet' type='text/css'>
    <link href="../../../stylesheets/style.css" rel='stylesheet' type='text/css'>
    <link href="../../../stylesheets/prettify.css" rel='stylesheet' type='text/css'>
    <script src="../../../javascripts/libs/angular.js"></script>
    <script src="../../../javascripts/libs/angular-sanitize.js"></script>
    <script src="../../../javascripts/libs/jquery-1.8.2.js"></script>
    <script src="../../../javascripts/libs/bootstrap.js"></script>
    <script src="../../../javascripts/libs/jquery.highlight.js"></script>
    <script src="../../../javascripts/libs/jquery.masonry.js"></script>
    <script src="../../../javascripts/libs/prettify.js"></script>

    <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-27539606-3']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();

    </script>
  </head>
  

  <body>
    <div class="navbar navbar-static-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="brand" href="//deployd.com">
            <img src="//deployd.com/img/logo-text.png">
          </a>
          <div class="nav-collapse">
            <ul class="nav">
              <!--<li><a href="//cloud.deployd.com">cloud</a></li>-->
              <li class="active"><a href="//docs.deployd.com">docs</a></li>
              <li><a href="https://groups.google.com/forum/?fromgroups#!forum/deployd-users">community</a></li>
              <!--li><a href="//deployd.com/blog.html">blog</a></li-->
            </ul>
          </div><!--/.nav-collapse -->

          <div id="search" ng-controller="SearchCtrl" class="pull-right">
  <form class="navbar-search" method="get" action="http://www.google.com/search">
    <input type="hidden" name="sitesearch" value="docs.deployd.com" />
    <input value="" placeholder="search docs" id="search-input" name="q" type="text" ng-change="change()" ng-model="input" />
  </form>
  <ul id="search-terms" class="typeahead unstyled" ng-show="terms.length" ng-cloak>
    <li ng-repeat="term in terms" class="{{ term.active && 'active' }}" ng-click="choose($index)">
      {{ term.title || term.reference }}
    </li>
  </ul>
</div>




          <div id="social" class="nav-collapse pull-left">
            <ul class="nav">
              <li><iframe allowtransparency="true" frameborder="0" scrolling="no" src="http://platform.twitter.com/widgets/tweet_button.1354270846.html#_=1354747685285&amp;count=horizontal&amp;id=twitter-widget-0&amp;lang=en&amp;original_referer=http%3A%2F%2Fdeployd.com%2F&amp;size=m&amp;text=Deployd%20Platform%20(%40deploydapp)%20-%20The%20simplest%20way%20to%20build%20APIs.&amp;url=http%3A%2F%2Fwww.deployd.com" class="twitter-share-button twitter-count-horizontal" style="width: 107px; height: 20px;" title="Twitter Tweet Button" data-twttr-rendered="true"></iframe>
      <script type="text/javascript" async="" src="http://www.google-analytics.com/ga.js"></script><script id="twitter-wjs" src="//platform.twitter.com/widgets.js"></script><script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script></li>
            </ul>
          </div>
        </div>
      </div>
    </div>

    <div class="navbar navbar-static-top secondary-nav">
      <div class="navbar-inner">
        <div class="container">
          <ul class="nav">
            <li class="home"><a href="../../../">home</a></li>
            <li class="guides" ><a href="../../../guides">guides</a></li>
            <li class="api"><a href="../../../api">api</a></li>
            <li class="examples"><a href="../../../examples">examples</a></li>
            <li class="modules"><a href="../../../modules">modules</a></li>
          </ul>
        </div>
      </div>
    </div>

    <div class="container">
      

<ul id="breadcrumb" class="unstyled">

  <li><a href="../../../docs">Docs</a><span>/</span></li>

  <li><a href="../../../docs/collections">Collections</a><span>/</span></li>

  <li>Reference</li>
  
  <li>(<a href="../../../docs/collections/reference/include-all.html">View All</a>)</li>
  
</ul>

<div id="browser" class="row">
  <div id="sidebar" class="span3">
    

<div id="explorer">
  <ul id="files" class="nav">
    
      <li class=""><a href="../../../docs/collections/reference/event-api.html"><i class="icon-file"></i> <span>Event API</span></a></li>
    
      <li class="active"><a href="../../../docs/collections/reference/http.html"><i class="icon-file"></i> <span>Over HTTP</span></a></li>
    
      <li class=""><a href="../../../docs/collections/reference/querying-collections.html"><i class="icon-file"></i> <span>Querying Collections</span></a></li>
    
      <li class=""><a href="../../../docs/collections/reference/updating-objects.html"><i class="icon-file"></i> <span>Updating Objects in Collections</span></a></li>
    
      <li class=""><a href="../../../docs/collections/reference/dpd-js.html"><i class="icon-file"></i> <span>Using dpd.js</span></a></li>
    
    
  </ul>
  
</div>


    
      <h4>Related APIs</h4>
      <div id="related-apis">
        <div id="api">
  
      
        
            <ul class="nav nav-list collections">
              <li class="nav-header"><a href="../../../docs/collections/reference/event-api.html">Event API</a></li>
            
      <li><a href="../../../docs/collections/reference/event-api.html#s-this-764">this</a></li>
    
      <li><a href="../../../docs/collections/reference/event-api.html#s-me-764">me</a></li>
    
      <li><a href="../../../docs/collections/reference/event-api.html#s-isMe()-764">isMe()</a></li>
    
      <li><a href="../../../docs/collections/reference/event-api.html#s-query-764">query</a></li>
    
      <li><a href="../../../docs/collections/reference/event-api.html#s-cancel()-764">cancel()</a></li>
    
      <li><a href="../../../docs/collections/reference/event-api.html#s-cancelIf(), cancelUnless()-764">cancelIf(), cancelUnless()</a></li>
    
      <li><a href="../../../docs/collections/reference/event-api.html#s-error()-764">error()</a></li>
    
      <li><a href="../../../docs/collections/reference/event-api.html#s-errorIf(), errorUnless()-764">errorIf(), errorUnless()</a></li>
    
      <li><a href="../../../docs/collections/reference/event-api.html#s-hide()-764">hide()</a></li>
    
      <li><a href="../../../docs/collections/reference/event-api.html#s-protect()-764">protect()</a></li>
    
      <li><a href="../../../docs/collections/reference/event-api.html#s-changed()-764">changed()</a></li>
    
      <li><a href="../../../docs/collections/reference/event-api.html#s-previous-764">previous</a></li>
    
      <li><a href="../../../docs/collections/reference/event-api.html#s-emit()-764">emit()</a></li>
    
      <li><a href="../../../docs/collections/reference/event-api.html#s-internal-764">internal</a></li>
    
      <li><a href="../../../docs/collections/reference/event-api.html#s-isRoot-764">isRoot</a></li>
    
      <li><a href="../../../docs/collections/reference/event-api.html#s-console.log()-764">console.log()</a></li>
    
            </ul>
            
            <ul class="nav nav-list collections">
              <li class="nav-header"><a href="../../../docs/collections/reference/querying-collections.html">Querying Collections</a></li>
            
      <li><a href="../../../docs/collections/reference/querying-collections.html#s-Comparison ($gt, $lt, $gte, $lte)-1556">Comparison ($gt, $lt, $gte, $lte)</a></li>
    
      <li><a href="../../../docs/collections/reference/querying-collections.html#s-$ne (Not Equal)-1556">$ne (Not Equal)</a></li>
    
      <li><a href="../../../docs/collections/reference/querying-collections.html#s-$in-1556">$in</a></li>
    
      <li><a href="../../../docs/collections/reference/querying-collections.html#s-$regex-1556">$regex</a></li>
    
      <li><a href="../../../docs/collections/reference/querying-collections.html#s-$fields-1416">$fields</a></li>
    
      <li><a href="../../../docs/collections/reference/querying-collections.html#s-$or-1416">$or</a></li>
    
      <li><a href="../../../docs/collections/reference/querying-collections.html#s-$sort-1416">$sort</a></li>
    
      <li><a href="../../../docs/collections/reference/querying-collections.html#s-$limit-1416">$limit</a></li>
    
      <li><a href="../../../docs/collections/reference/querying-collections.html#s-$skip-1416">$skip</a></li>
    
      <li><a href="../../../docs/collections/reference/querying-collections.html#s-$limitRecursion-1416">$limitRecursion</a></li>
    
            </ul>
            
            <ul class="nav nav-list collections">
              <li class="nav-header"><a href="../../../docs/collections/reference/updating-objects.html">Updating Objects in Collections</a></li>
            
      <li><a href="../../../docs/collections/reference/updating-objects.html#s-$inc-3004">$inc</a></li>
    
      <li><a href="../../../docs/collections/reference/updating-objects.html#s-$push-3004">$push</a></li>
    
      <li><a href="../../../docs/collections/reference/updating-objects.html#s-$pushAll-3004">$pushAll</a></li>
    
      <li><a href="../../../docs/collections/reference/updating-objects.html#s-$pull-3004">$pull</a></li>
    
      <li><a href="../../../docs/collections/reference/updating-objects.html#s-$pullAll-3004">$pullAll</a></li>
    
            </ul>
            
            <ul class="nav nav-list collections">
              <li class="nav-header"><a href="../../../docs/collections/reference/dpd-js.html">Using dpd.js</a></li>
            
      <li><a href="../../../docs/collections/reference/dpd-js.html#s-.get([id], [query], fn)-1286">.get([id], [query], fn)</a></li>
    
      <li><a href="../../../docs/collections/reference/dpd-js.html#s-.post([id], object, fn)">.post([id], object, fn)</a></li>
    
      <li><a href="../../../docs/collections/reference/dpd-js.html#s-.put([id or query], object, fn)">.put([id or query], object, fn)</a></li>
    
      <li><a href="../../../docs/collections/reference/dpd-js.html#s-.del(id or query, fn)">.del(id or query, fn)</a></li>
    
      <li><a href="../../../docs/collections/reference/dpd-js.html#s-dpd.on(message, fn)-1069">dpd.on(message, fn)</a></li>
    
      <li><a href="../../../docs/collections/reference/dpd-js.html#s-dpd.off(message, [fn])-1069">dpd.off(message, [fn])</a></li>
    
      <li><a href="../../../docs/collections/reference/dpd-js.html#s-dpd.once(message, fn)-1069">dpd.once(message, fn)</a></li>
    
      <li><a href="../../../docs/collections/reference/dpd-js.html#s-dpd.socketReady(fn)-1069">dpd.socketReady(fn)</a></li>
    
      <li><a href="../../../docs/collections/reference/dpd-js.html#s-dpd.socket-1069">dpd.socket</a></li>
    
            </ul>
            
      
    
</div>




      </div>
    
  </div>
  <div class="span9 sections">
    
      

  <div class="section"><a name="s-Accessing Collections Over HTTP"></a><h2>Accessing Collections Over HTTP <a class="anchor-link" href="#s-Accessing Collections Over HTTP">#</a></h2>

<p>Deployd exposes an HTTP API to your Collections which can be used by any platform or library that supports HTTP or AJAX. Though it does not strictly adhere to REST, it should also work with most libraries designed for REST.</p><div class="section"><a name="s-Collection API-2891"></a><h3>Collection API <a class="anchor-link" href="#s-Collection API-2891">#</a></h3>

<p>The examples below use a Collection called <code>/todos</code> with the following schema:</p>

<ul>
<li><code>id</code></li>
<li>string <code>title</code></li>
<li>string <code>category</code></li>
</ul>

<p>Your Collection is available at the URL you specified. If you are using the default development hostname of <code>localhost:2403</code>, for example, the <code>/todos</code> collection will be available at <code>http://localhost:2403/todos</code>.</p><div class="section reference"><a name="s-Requests-1286"></a><h4>Requests <!-- ref --> <a class="anchor-link" href="#s-Requests-1286">#</a></h4>

<p>A request to the Deployd API should include the <code>Content-Type</code> header. The following content types are supported:</p>

<ul>
<li><code>application/json</code> (recommended)</li>
<li><code>application/x-www-form-urlencoded</code> (All values will be parsed as strings)</li>
</ul>

<p>The <code>Content-Type</code> header is not necessary for <code>GET</code> or <code>DELETE</code> requests which have no body.</p></div><div class="section reference"><a name="s-Responses-1286"></a><h4>Responses <!-- ref --> <a class="anchor-link" href="#s-Responses-1286">#</a></h4>

<p>Deployd will send standard HTTP status codes depending on the results on an operation. If the code is 200 (OK), the request was successful and the result is available in the body as JSON.</p>

<p>If the code is 204 (No Content), the request was successful, but there is no result.</p>

<p>If the code is 400 or greater, it will return the error message formatted as a JSON object:</p>

<ul>
<li><code>status</code> (number): The HTTP status code of the request. Common codes include:
<ul><li>400 - Bad Request: The request contained invalid data and could not be completed</li>
<li>401 - Unauthorized: The current session is not authorized to perform that action</li>
<li>500 - Internal Server Error: Something went wrong on the server</li></ul></li>
<li><code>message</code> (string): A message describing the error. Not always present.</li>
<li><code>errors</code> (object): A hash of error messages corresponding to the properties of the object that was sent - usually indicates validation errors. Not always present.</li>
</ul>

<p>Examples of errors:</p>

<pre><code>{
  "status": 401,
  "message": "You are not allowed to access that collection!"
}
</code></pre>

<!--...-->

<pre><code>{
  "status": 400,
  "errors": {
      "title": "Title must be less than 100 characters",
      "category": "Not a valid category"
  }
}
</code></pre></div><div class="section reference"><a name="s-Listing Data-1286"></a><h4>Listing Data <!-- ref --> <a class="anchor-link" href="#s-Listing Data-1286">#</a></h4>

<p>To retreive an array of objects in the collection, send a <code>GET</code> request to your collection's path:</p>

<pre><code>GET /todos
</code></pre>

<p>The response will be an array of objects: </p>

<pre><code>200 OK
[
  {
    "id": "320d6151a9aad8ce",
    "title": "Wash the dog",
    "category": "pets"
  }, {
    "id": "320d6151a9aad8ce"
    "title": "Write autobiography",
    "category": "writing"
  }
]
</code></pre>

<p>If the collection has no objects, it will be an empty array:</p>

<pre><code>200 OK
[]    
</code></pre></div><div class="section reference"><a name="s-Querying Data-1286"></a><h4>Querying Data <!-- ref --> <a class="anchor-link" href="#s-Querying Data-1286">#</a></h4>

<p>To filter results by the specified query object, send a <code>GET</code> request to your collection's path with a query string.  See <a href="../../../docs/collections/reference/querying-collections.html">Querying Collections</a> for information on constructing a query.</p>

<pre><code>GET /todos?category=pets
</code></pre>

<p>For more advanced queries, you will need to pass the query string as JSON instead:</p>

<pre><code>GET /todos?{"category": "pets"}
</code></pre>

<p>The response body is an array of objects: </p>

<pre><code>200 OK
[
  {
    "id": "320d6151a9aad8ce",
    "title": "Wash the dog",
    "category": "pets"
  }
]
</code></pre></div><div class="section reference"><a name="s-Getting a Specific Object-1286"></a><h4>Getting a Specific Object <!-- ref --> <a class="anchor-link" href="#s-Getting a Specific Object-1286">#</a></h4>

<p>To retrieve a single object by its <code>id</code> property, send a <code>GET</code> request with the <code>id</code> value as the path.</p>

<pre><code>GET /todos/320d6151a9aad8ce
</code></pre>

<p>The response body is the object that you requested:</p>

<pre><code>200 OK
{
  "id": "320d6151a9aad8ce",
  "title": "Wash the dog",
  "category": "pets"
}
</code></pre></div><div class="section reference"><a name="s-Creating an Object-1286"></a><h4>Creating an Object <!-- ref --> <a class="anchor-link" href="#s-Creating an Object-1286">#</a></h4>

<p>To create an object in the collection, send a <code>POST</code> request with the object's properties in the body.</p>

<pre><code>POST /todos
{
  "title": "Walk the dog"
}
</code></pre>

<p>The response body is the object that you posted, with any additional calculated properties and the <code>id</code>:</p>

<pre><code>{
  "id": "91c621a3026ca8ef",
  "title": "Walk the dog"
}
</code></pre></div><div class="section reference"><a name="s-Updating an Object-1286"></a><h4>Updating an Object <!-- ref --> <a class="anchor-link" href="#s-Updating an Object-1286">#</a></h4>

<p>To update an object that is already in the collection, send a <code>POST</code> or <code>PUT</code> request with the <code>id</code> value as the path and with the properties you wish to update in the body. It will only change the properties that are provided. It is also possible to incrementally update certain properties; see <a href="../../../docs/collections/reference/updating-objects.html">Updating Objects in Collections</a> for details.</p>

<pre><code>PUT /todos/91c621a3026ca8ef
{
  "title": "Walk the cat"
}
</code></pre>

<!--...-->

<pre><code>POST /todos/91c621a3026ca8ef
{
  "title": "Walk the cat"
}
</code></pre>

<p>You can also omit the <code>id</code> in the path if you provide an <code>id</code> property in the body:</p>

<pre><code>PUT /todos
{
  "id": "91c621a3026ca8ef"
  "title": "Walk the cat"
}
</code></pre>

<p>Finally, you can provide a query string to ensure that the object you are updating has the correct properties. You must still provide an <code>id</code>. This can be useful as a failsafe.</p>

<pre><code>PUT /todos/91c621a3026ca8ef?category=pets
{
  "title": "Walk the cat"
}
</code></pre>

<p>The response body is the entire object after the update:</p>

<pre><code>200 OK  
{
  "id": "91c621a3026ca8ef",
  "title": "Walk the cat",
  "category": "pets"
}
</code></pre>

<p>The <code>PUT</code> verb will return an error if the <code>id</code> and/or <code>query</code> does not match any object in the collection:</p>

<pre><code>400 Bad Request
{
  "status": 400,
  "message": "No object exists that matches that query"
}
</code></pre></div><div class="section reference"><a name="s-Deleting an Object-1286"></a><h4>Deleting an Object <!-- ref --> <a class="anchor-link" href="#s-Deleting an Object-1286">#</a></h4>

<p>To delete an object from the collection, send a <code>DELETE</code> request with the <code>id</code> value as a path.</p>

<pre><code>DELETE /todos/91c621a3026ca8ef
</code></pre>

<p>You can also pass a query string to ensure that you are removing the correct object:</p>

<pre><code>DELETE /todos/91c621a3026ca8ef?title=Walk the dog
</code></pre>

<p>You can omit the <code>id</code> in the path if you provide it in the query string:</p>

<pre><code>DELETE /todos?id=91c621a3026ca8ef&amp;title=Walk the dog
</code></pre>

<p>The response body will always be empty.</p></div><div class="section"><a name="s-Realtime API"></a><h3>Realtime API <a class="anchor-link" href="#s-Realtime API">#</a></h3>

<p>Deployd uses <a href="http://socket.io/#home">Socket.io</a> for its realtime functionality. If you are not using dpd.js, you can use the <a href="https://github.com/LearnBoost/socket.io-client/blob/master/dist/socket.io.js">Socket.io client library</a>. </p>

<pre><code>var socket = io.connect('/');
socket.on('todos:create', function(todo) {
  // Do something
});
</code></pre>

<p>The Socket.io community has created client libraries for other languages and platforms as well.</p></div><div class="section"><a name="s-Root Requests"></a><h3>Root Requests <a class="anchor-link" href="#s-Root Requests">#</a></h3>

<p>You can elevate your session to root access by adding the header <code>dpd-ssh-key</code>. It must have the value of your app's key (you can find this by typing <code>dpd showkey</code> into the command line); although in the <code>development</code> environment, the <code>dpd-ssh-key</code> header can have any value.</p>

<p>Sending a request as root has several effects. Most notably, you can use the <code>{$skipEvents: true}</code> property in either the query string or request body. This will cause events not to run. This is useful for bypassing authentication or validation. </p>

<p>Your front-end app should never gain root access, and you should never store the app's key in a place where it can be accessed by users, even if they understand the system. This is primarily useful for writing data management utilities for yourself, other developers, and system administrators.</p></div><div class="section"><a name="s-Examples"></a><h3>Examples <a class="anchor-link" href="#s-Examples">#</a></h3>

<p>The examples below show how to use various JavaScript front-end libraries to access a Collection called <code>/todos</code>.</p><div class="section"><a name="s-[jQuery](http://jquery.com/)-831"></a><h4><a href="http://jquery.com/">jQuery</a> <a class="anchor-link" href="#s-[jQuery](http://jquery.com/)-831">#</a></h4>

<pre><code>$.ajax('/todos', {
  type: "GET",
  success: function(todos) {
    // Do something
  },
  error: function(xhr) {
    alert(xhr.responseText);
  }
});

$.ajax('/todos', {
  type: "POST",
  contentType: "application/json",
  data: JSON.stringify({
    title: "Walk the dog"
  }),
  success: function(todo) {
    // Do something
  }, 
  error: function(xhr) {
    alert(xhr.responseText);
  }
});
</code></pre>

<p><em>Note: When providing a request body, jQuery defaults to form encoding. Deployd works best with a JSON body, so you'll need to set the contentType option and manually convert to JSON.</em></p></div><div class="section"><a name="s-[Backbone.js](http://backbonejs.org)-831"></a><h4><a href="http://backbonejs.org">Backbone.js</a> <a class="anchor-link" href="#s-[Backbone.js](http://backbonejs.org)-831">#</a></h4>

<pre><code>var Todo = Backbone.Model.extend({});
var Todos = Backbone.Collection.extend({
  model: Todo,
  url: "/todos"
});

var todos = new Todos();  

todos.fetch({
  success: function(collection, response) {
    // Do something
  }, error: function(collection, response) {
    alert(response);
  }
});

todos.create({
  title: "Walk the dog"
}, {
  success: function(collection, response) {
    // Do something
  }, error: function(collection, response) {
    alert(response);
  }
});
</code></pre></div><div class="section"><a name="s-[Angular.js](http://angularjs.org/)-831"></a><h4><a href="http://angularjs.org/">Angular.js</a> <a class="anchor-link" href="#s-[Angular.js](http://angularjs.org/)-831">#</a></h4>

<p>Using <a href="http://docs.angularjs.org/api/ng.$http">$http</a>:</p>

<pre><code>function Controller($scope, $http) {
  $http.get('/todos')
    .success(function(todos) {
      $scope.todos = todos;
    })
    .error(function(err) {
      alert(err);
    });

  $http.post('/todos', {
      title: "Walk the dog"
    })
    .success(function(todo) {
      // Do something
    })
    .error(function(err) {
      alert(err);
    });
}
</code></pre>

<p>Using <a href="http://docs.angularjs.org/api/ngResource.$resource">ngResource</a>:</p>

<pre><code>var myApp = angular.module('myApp', ['ngResource']);

myApp.factory('Todos', function($resource) {
  return $resource('/todos/:todoId', {todoId: '@id'});
});

function Controller($scope, Todos) {
  $scope.todos = Todos.query(function(response) {
    // Do something
  }, function(error) {
    alert(error);
  });

  Todos.save({
    title: "Walk the dog"
  }, function(todo) {
    // Do something
  }, function(error) {
    alert(error);
  });
}

myApp.controller('Controller', Controller);
</code></pre></div><div class="section"><a name="s-Cross-Origin Requests"></a><h3>Cross-Origin Requests <a class="anchor-link" href="#s-Cross-Origin Requests">#</a></h3>

<p>The most common bug when implementing a CORS client for Deploy is to include headers that are not allowed. A client must not send any custom headers besides the following:</p>

<pre><code>Origin, Accept, Accept-Language, Content-Language, Content-Type, Last-Event-ID
</code></pre>

<p>This will not work on browsers that do not support Cross-Origin Resource Sharing (namely Internet Explorer 7 and below).</p><div class="section"><a name="s-Cross-Origin Requests with dpd.js-2075"></a><h4>Cross-Origin Requests with dpd.js <a class="anchor-link" href="#s-Cross-Origin Requests with dpd.js-2075">#</a></h4>

<p>When using dpd.js, all the required CORS headers are sent by default to any domain.  You don't have to make any changes to your requests.  dpd.js takes care of it for you.</p></div><div class="section"><a name="s-Cross-Origin Requests with jQuery-2075"></a><h4>Cross-Origin Requests with jQuery <a class="anchor-link" href="#s-Cross-Origin Requests with jQuery-2075">#</a></h4>

<p>When using jQuery.ajax() on cross-origin requests the credentials are not sent along with the request automatically.  You have to add them to each ajax() request using the xhrFields parameter.  Here is an example  of login followed by getting some data.</p>

<pre><code>// Logging a user in.
$.ajax({
  url: 'http://&lt;domain&gt;:&lt;port&gt;/users/login',
  type: "POST",
  data: {username:"un", password:"pw"},
  cache: false,
  xhrFields:{
    withCredentials: true
  },
  success: function(data) {
    console.log(data);
  },
  error: function(xhr) {
    console.log(xhr.responseText);
  }
});

// On subsequent requests or in the success callback above.  (After having logged in) 
$.ajax({
  url: 'http://&lt;domain&gt;:&lt;port&gt;/&lt;collection&gt;',
  type: "GET",
  cache: false,
  xhrFields:{
    withCredentials: true
  },
  success: function(data) {
    console.log(data);
  },
  error: function(xhr) {
    console.log(xhr.responseText);
  }
});
</code></pre></div><div class="section"><a name="s-HTTP method override"></a><h3>HTTP method override <a class="anchor-link" href="#s-HTTP method override">#</a></h3>

<p>Provides faux HTTP method support.</p>

<p>Most browsers doesn’t support methods other than “GET” and “POST” when it comes to submitting forms. So It's support something like 'Rails'.</p>

<p>Pass an optional key to use when checking for a method override, othewise defaults to _method. The original method is available via req.originalMethod.</p>

<p>It's support both URL query and POST body</p>

<pre><code>URL       : ?_method=METHOD_NAME or
JSON body : { _method: 'METHOD_NAME' }
</code></pre>

<p>$.ajax({
            type: "POST",
            url : "/todos/"+ todoId,
            data: { _method:"DELETE" },
            success: function(res) {</p><div class="section"><a name="s-Ajax Example-1889"></a><h4>Ajax Example <a class="anchor-link" href="#s-Ajax Example-1889">#</a></h4>

<pre><code>$.ajax({
  type : "POST",
  url  : "/todos/OBJECT_ID"
  data : { _method:"DELETE" },
  success: function(todo) {
    // Object was deleted. response body empty.
  }, 
  error: function(xhr) {}
});

or

$.ajax({
  type : "POST",
  url  : "/todos/OBJECT_ID?_method=DELETE",
  success: function(todo) {
    // Object was deleted. response body empty.
  }, 
  error: function(xhr) {}
});
</code></pre></div></div></div></div></div></div>  

    
    <h3 style="text-align: center;">More</h3>

    
    
    <div class="row-fluid">
      <div class="span6">
        <div class="well">
          <h4>Other docs in "Reference"</h4>
          <ul>
            
              <li><a href="../../../docs/collections/reference/event-api.html">Event API</a></li>
            
              <li><a href="../../../docs/collections/reference/querying-collections.html">Querying Collections</a></li>
            
              <li><a href="../../../docs/collections/reference/updating-objects.html">Updating Objects in Collections</a></li>
            
              <li><a href="../../../docs/collections/reference/dpd-js.html">Using dpd.js</a></li>
            
          </ul>
        </div>
      </div>
       
        <div class="span6">
          <div class="well">
            <h4>Related Examples</h4>
            <ul>
              
                <li><a href="../../../docs/collections/examples/a-simple-todo-app.html">A Simple Todo App</a></li>
              
                <li><a href="../../../docs/collections/examples/a-simple-todo-app-with-angular.html">A Simple Todo App with AngularJS</a></li>
              
                <li><a href="../../../docs/collections/examples/a-simple-todo-app-with-backbone.html">A Simple Todo App with Backbone.js</a></li>
              
                <li><a href="../../../docs/collections/examples/chatroom.html">Chatroom</a></li>
              
            </ul>
          </div>
        </div>
      
    </div>
  </div>
</div>
    </div>
    
    <div class="docs-nav">
      <div class="container">
        <div class="row">
          <div class="span3">
            <h3>Guides</h3>
            <ul class="nav nav-list">
              
                <li><a href="../../../docs/getting-started">Getting Started</a></li>
              
                <li><a href="../../../docs/basics">Basics</a></li>
              
                <li><a href="../../../docs/collections">Collections</a></li>
              
                <li><a href="../../../docs/users">Users</a></li>
              
                <li><a href="../../../docs/using-modules">Using Modules</a></li>
              
                <li><a href="../../../docs/server">The Deployd Server</a></li>
              
                <li><a href="../../../docs/developing-modules">Developing Modules</a></li>
              
            </ul>
          </div>
          <div class="span3">
            <h3>APIs</h3>
            <ul class="nav nav-list">
              
                <li class="nav-header"><a href="../../../docs/collections/reference">Collections</a></li>
                
                  <li><a href="../../../docs/collections/reference/event-api.html">Event API</a></li>
                
                  <li><a href="../../../docs/collections/reference/http.html">Over HTTP</a></li>
                
                  <li><a href="../../../docs/collections/reference/querying-collections.html">Querying Collections</a></li>
                
                  <li><a href="../../../docs/collections/reference/updating-objects.html">Updating Objects in Collections</a></li>
                
                  <li><a href="../../../docs/collections/reference/dpd-js.html">Using dpd.js</a></li>
                
              
                <li class="nav-header"><a href="../../../docs/using-modules/reference">Using Modules</a></li>
                
                  <li><a href="../../../docs/using-modules/reference/dpd-js.html">Dpd.js for Custom Resources</a></li>
                
                  <li><a href="../../../docs/using-modules/reference/event-api.html">Event API for Custom Resources</a></li>
                
              
                <li class="nav-header"><a href="../../../docs/developing-modules/internal-api">Developing Modules</a></li>
                
                  <li><a href="../../../docs/developing-modules/internal-api/collection.html">Collection Resource Type</a></li>
                
                  <li><a href="../../../docs/developing-modules/internal-api/context.html">Context</a></li>
                
                  <li><a href="../../../docs/developing-modules/internal-api/script.html">Event Scripts</a></li>
                
                  <li><a href="../../../docs/developing-modules/internal-api/internal-client.html">Internal Client</a></li>
                
                  <li><a href="../../../docs/developing-modules/internal-api/resource.html">Resource Types</a></li>
                
                  <li><a href="../../../docs/developing-modules/internal-api/server.html">Server</a></li>
                
                  <li><a href="../../../docs/developing-modules/internal-api/session.html">Session</a></li>
                
                  <li><a href="../../../docs/developing-modules/internal-api/session-store.html">Session Store</a></li>
                
                  <li><a href="../../../docs/developing-modules/internal-api/store.html">Store</a></li>
                
              
            </ul>
          </div>
          <div class="span3">
            <h3>Examples</h3>
            <ul class="nav nav-list">
              
                <li class="nav-header"><a href="../../../docs/collections">Collections</a></li>
                
                  <li><a href="../../../docs">A Simple Todo App</a></li>
                
                  <li><a href="../../../docs">A Simple Todo App with AngularJS</a></li>
                
                  <li><a href="../../../docs">A Simple Todo App with Backbone.js</a></li>
                
                  <li><a href="../../../docs">Chatroom</a></li>
                
              
                <li class="nav-header"><a href="../../../docs/users">Users</a></li>
                
                  <li><a href="../../../docs">Microblogging app</a></li>
                
                  <li><a href="../../../docs">Simple Login Form</a></li>
                
              
                <li class="nav-header"><a href="../../../docs/developing-modules">Developing Modules</a></li>
                
                  <li><a href="../../../docs">Email Resource</a></li>
                
                  <li><a href="../../../docs">Event Resource</a></li>
                
                  <li><a href="../../../docs">S3 Bucket Resource</a></li>
                
              
            </ul>
          </div>
          <div class="span3">
            <div id="feedback">
              <h3>Feedback</h3>
              <p>Let us know if you have any ideas to improve our docs. Open an <a href="https://github.com/deployd/docs/issues">issue on github</a>, <a href="mailto: hello@deployd.com">send us an email</a>, or <a href="https://twitter.com/deploydapp">tweet us</a>.</p>
            </div>
            <div id="download">
              <h3>Edit or Download these Docs</h3>
              <p>This entire site, including documentation written in markdown is <a href="https://github.com/deployd/docs">available on github</a>. Pull requests are appreciated!</p>
            </div>
          </div>
        </div>
      </div>
    </div>
    <footer>
      <div class="container">
        <div class="row">
          <div class="span navigation">
            <dl>
              <dt><img src="//deployd.com/img/footer-dt.png" alt="deployd"></dt>
              <dd><a href="http://deployd.com/">Home</a></dd>
              <dd><a href="http://deployd.com/video.html">Screencast</a></dd>
              <dd><a href="http://deployd.com/features.html">Features</a></dd>
              <dd><a href="https://github.com/deployd/deployd/issues">Support</a></dd>
            </dl>
            <dl>
              <dt>documentation</dt>
              <dd><a href="http://docs.deployd.com/guides">Guides</a></dd>
              <dd><a href="http://docs.deployd.com/api">API</a></dd>
              <dd><a href="http://docs.deployd.com/examples">Examples</a></dd>
              <dd><a href="http://docs.deployd.com/modules">Modules</a></dd>
            </dl>
            <dl>
              <dt>community</dt>
              <dd><a href="http://deployd.com/community.html">Questions</a></dd>
              <dd><a href="https://twitter.com/deploydapp">Tweets</a></dd>
              <dd><a href="https://github.com/deployd/deployd/issues">Issues</a></dd>
              <dd><a href="https://github.com/deployd/deployd">Github</a></dd>
            </dl>
            <dl>
              <dt>contact</dt>
              <dd><a href="mailto:hello@deployd.com">hello@deployd.com</a></dd>
            </dl>
          </div>
          <div class="span logo-container">
            <div class="logo">
              <img src="//deployd.com/img/footer-logo.png" alt="deployd">
            </div>
          </div>
          <div class="span email-container">
            <dl id="mc_embed_signup" class="span4">
            <dt>Get deployd emails</dt>
            <dd>
              <form action="http://deployd.us2.list-manage.com/subscribe/post?u=4f1b944ba8c90738eb8e3fa3c&amp;id=7bb18e6b80" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate form-vertical" target="_blank" novalidate="">
              <div class="mc-field-group">
                <input type="email" placeholder="your@email" value="" name="EMAIL" class="required email" id="mce-EMAIL"><input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button btn">
              </div>
                <div id="mce-responses" class="clear">
                  <div class="response" id="mce-error-response" style="display:none"></div>
                  <div class="response" id="mce-success-response" style="display:none"></div>
                </div>
              </form>
            </dd>
          </dl>
          </div>
        </div>
      </div>
    </footer>
    <script src="../../../javascripts/app.js"></script>
  </body>
</html>
