<!DOCTYPE html>
<html lang="en" ng-app="docs">
  <head>
    
      <title>deployd</title>
    
    <link href='http://fonts.googleapis.com/css?family=Bitter:400,700,400italic' rel='stylesheet' type='text/css'>
    <link href="../../stylesheets/style.css" rel='stylesheet' type='text/css'>
    <link href="../../stylesheets/prettify.css" rel='stylesheet' type='text/css'>
    <script src="../../javascripts/libs/angular.js"></script>
    <script src="../../javascripts/libs/angular-sanitize.js"></script>
    <script src="../../javascripts/libs/jquery-1.8.2.js"></script>
    <script src="../../javascripts/libs/bootstrap.js"></script>
    <script src="../../javascripts/libs/jquery.highlight.js"></script>
    <script src="../../javascripts/libs/jquery.masonry.js"></script>
    <script src="../../javascripts/libs/prettify.js"></script>

    <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-27539606-3']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();

    </script>
  </head>
  

  <body>
    <div class="navbar navbar-static-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="brand" href="//deployd.com">
            <img src="//deployd.com/img/logo-text.png">
          </a>
          <div class="nav-collapse">
            <ul class="nav">
              <!--<li><a href="//cloud.deployd.com">cloud</a></li>-->
              <li class="active"><a href="//docs.deployd.com">docs</a></li>
              <li><a href="https://groups.google.com/forum/?fromgroups#!forum/deployd-users">community</a></li>
              <!--li><a href="//deployd.com/blog.html">blog</a></li-->
            </ul>
          </div><!--/.nav-collapse -->

          <div id="search" ng-controller="SearchCtrl" class="pull-right">
  <form class="navbar-search" method="get" action="http://www.google.com/search">
    <input type="hidden" name="sitesearch" value="docs.deployd.com" />
    <input value="" placeholder="search docs" id="search-input" name="q" type="text" ng-change="change()" ng-model="input" />
  </form>
  <ul id="search-terms" class="typeahead unstyled" ng-show="terms.length" ng-cloak>
    <li ng-repeat="term in terms" class="{{ term.active && 'active' }}" ng-click="choose($index)">
      {{ term.title || term.reference }}
    </li>
  </ul>
</div>




          <div id="social" class="nav-collapse pull-left">
            <ul class="nav">
              <li><iframe allowtransparency="true" frameborder="0" scrolling="no" src="http://platform.twitter.com/widgets/tweet_button.1354270846.html#_=1354747685285&amp;count=horizontal&amp;id=twitter-widget-0&amp;lang=en&amp;original_referer=http%3A%2F%2Fdeployd.com%2F&amp;size=m&amp;text=Deployd%20Platform%20(%40deploydapp)%20-%20The%20simplest%20way%20to%20build%20APIs.&amp;url=http%3A%2F%2Fwww.deployd.com" class="twitter-share-button twitter-count-horizontal" style="width: 107px; height: 20px;" title="Twitter Tweet Button" data-twttr-rendered="true"></iframe>
      <script type="text/javascript" async="" src="http://www.google-analytics.com/ga.js"></script><script id="twitter-wjs" src="//platform.twitter.com/widgets.js"></script><script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script></li>
            </ul>
          </div>
        </div>
      </div>
    </div>

    <div class="navbar navbar-static-top secondary-nav">
      <div class="navbar-inner">
        <div class="container">
          <ul class="nav">
            <li class="home"><a href="../../">home</a></li>
            <li class="guides" ><a href="../../guides">guides</a></li>
            <li class="api"><a href="../../api">api</a></li>
            <li class="examples"><a href="../../examples">examples</a></li>
            <li class="modules"><a href="../../modules">modules</a></li>
            <li class="modules"><a href="https://www.npmjs.org/search?q=deployd%20dpd">npm search</a></li>
          </ul>
        </div>
      </div>
    </div>

    <div class="container">
      

<ul id="breadcrumb" class="unstyled">

  <li><a href="../../docs">Docs</a><span>/</span></li>

  <li>Getting Started</li>
  
  <li>(<a href="../../docs/getting-started/include-all.html">View All</a>)</li>
  
</ul>

<div id="browser" class="row">
  <div id="sidebar" class="span3">
    

<div id="explorer">
  <ul id="files" class="nav">
    
      <li class=""><a href="../../docs/getting-started/what-is-deployd.html"><i class="icon-file"></i> <span>What is Deployd?</span></a></li>
    
      <li class=""><a href="../../docs/getting-started/faq.html"><i class="icon-file"></i> <span>FAQ</span></a></li>
    
      <li class=""><a href="../../docs/getting-started/installing-deployd.html"><i class="icon-file"></i> <span>Installing Deployd</span></a></li>
    
      <li class=""><a href="../../docs/getting-started/your-first-api.html"><i class="icon-file"></i> <span>Your first Deployd API</span></a></li>
    
      <li class="active"><a href="../../docs/getting-started/your-first-app.html"><i class="icon-file"></i> <span>Your first app with Deployd</span></a></li>
    
    
  </ul>
  
</div>


    
  </div>
  <div class="span9 sections">
    
      

  <div class="section"><a name="s-Building your first app with Deployd"></a><h2>Building your first app with Deployd <a class="anchor-link" href="#s-Building your first app with Deployd">#</a></h2>

<p>In this tutorial, you'll see how to create a simple app from the ground up in Deployd. This tutorial assumes a working knowledge of jQuery. It doesn't assume any knowledge of Deployd, but it's recommended to read <a href="../../docs/getting-started/your-first-api.html">Your First API with Deployd</a> if you haven't already.</p><div class="section"><a name="s-Getting started-3475"></a><h3>Getting started <a class="anchor-link" href="#s-Getting started-3475">#</a></h3>

<p>Create a new app in the command line:</p>

<pre><code>$ dpd create comments
$ cd comments
</code></pre>

<p>Using your text editor of choice, replace the default <code>index.html</code> file in the <code>public</code> folder:</p>

<pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;Deployd Tutorial&lt;/title&gt;
    &lt;style type="text/css"&gt;
        body { font-size: 16pt; }
        .container { width: 960px; margin-left: auto; margin-right: auto; }
        form { border: #cccccc 1px solid; padding: 20px; margin-bottom: 10px; -moz-border-radius: 5px; -webkit-border-radius: 5px; border-radius: 5px; }
        .form-element { margin-bottom: 10px; }
        #refresh-btn { margin-bottom: 20px; }
        .comment { padding: 10px; margin-bottom: 10px; border-bottom: #cccccc 1px solid; }
        .comment .links { float: right; }
        .comment .links a { margin-left: 10px; }
        .comment .author { font-style: italic; }
    &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div class="container"&gt;
        &lt;div id="comments"&gt;
        &lt;/div&gt;
        &lt;form id="comment-form"&gt;
            &lt;div class="form-element"&gt;
                &lt;label for="name"&gt;Name: &lt;/label&gt;
                &lt;input type="text" id="name" name="name" /&gt;
            &lt;/div&gt;
            &lt;div class="form-element"&gt;
                &lt;textarea id="comment" name="comment" rows="5" cols="50"&gt;
                &lt;/textarea&gt;
            &lt;/div&gt;
            &lt;div class="form-element"&gt;
                &lt;button type="submit"&gt;Add New Comment&lt;/button&gt;
            &lt;/div&gt;
        &lt;/form&gt;
    &lt;/div&gt;

    &lt;script src="http://code.jquery.com/jquery-latest.min.js"&gt;&lt;/script&gt;
    &lt;script type="text/javascript" src="script.js"&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>

<p>Also add a file <code>script.js</code> and paste this code:</p>

<pre><code>$(document).ready(function() {

    $('#comment-form').submit(function() {
        //Get the data from the form
        var name = $('#name').val();
        var comment = $('#comment').val();

        //Clear the form elements
        $('#name').val('');
        $('#comment').val('');

        addComment({
            name: name,
            comment: comment
        });

        return false;
    });

    function addComment(comment) {
        $('&lt;div class="comment"&gt;')
            .append('&lt;div class="author"&gt;Posted by: ' + comment.name + '&lt;/div&gt;')
            .append('&lt;p&gt;' + comment.comment + '&lt;/p&gt;')
            .appendTo('#comments');
    }

});
</code></pre>

<p>Run the app:</p>

<pre><code>$ dpd --open
dpd&gt;
</code></pre>

<p>The <code>open</code> command will automatically open <code>http://localhost:2403</code> in your browser.</p>

<p><img src="../../tutorials/first-app/images/comments-app-preview.png" alt="App Preview" title="" /></p>

<p>This basic app asks for a name and message body to post a comment. Take a moment to read the code and see how it works. </p>

<p>Next, we'll add a Deployd backend to this app, so that users can interact with each other and post comments.</p></div><div class="section"><a name="s-Creating a backend-3475"></a><h3>Creating a backend <a class="anchor-link" href="#s-Creating a backend-3475">#</a></h3>

<p>Open the dashboard by typing <code>dashboard</code> into the <code>dpd&gt;</code> prompt. </p>

<ol>
<li>Create a new Collection Resource and call it <code>/comments</code>.</li>
<li>On the Properties editor, add two "string" properties called <code>name</code> and <code>comment</code>.</li>
<li>In the Data editor, add a couple of comments so you can start testing right away.</li>
</ol>

<p>That's all you have to do in the backend for now!</p></div><div class="section"><a name="s-Integrating in the frontend-3475"></a><h3>Integrating in the frontend <a class="anchor-link" href="#s-Integrating in the frontend-3475">#</a></h3>

<p>In <code>index.html</code>, add the following script reference in between jQuery and <code>script.js</code> (near line 37):</p>

<pre><code>&lt;script type="text/javascript" src="/dpd.js"&gt;&lt;/script&gt;
</code></pre>

<p>This will add a reference to <a href="../../docs/collections/accessing-collections.html">dpd.js</a>, a simple library dynamically built specifically for your app's backend. Dpd.js will automatically detect what resources you have added to your app and add them to the <code>dpd</code> object. Each resource object has asynchronous functions to communicate with your Deployd app.  </p>

<p>In <code>script.js</code>, add a <code>loadComments()</code> function inside of <code>$(document).ready</code>:</p>

<pre><code>function loadComments() {
    dpd.comments.get(function(comments, error) { //Use dpd.js to access the API
        $('#comments').empty(); //Empty the list
        comments.forEach(function(comment) { //Loop through the result
            addComment(comment); //Add it to the DOM.
        });
    });
}
</code></pre>

<p>And call it when the page loads:</p>

<pre><code>$(document).ready(function() {

    loadComments();

    //...

});
</code></pre>

<p>If you run the app now, you should see the comments that you created in the Dashboard.</p>

<p>The <code>get()</code> function that makes this work sends an HTTP <code>GET</code> request to <code>/comments</code>, and returns an array of objects in the resource. There's nothing magical happening in dpd.js; you can use standard AJAX or HTTP requests if you prefer, or if you're unable to use dpd.js. (e.g. for mobile apps)</p>

<p><em>Note: If you haven't used AJAX much, note that all dpd.js functions are asynchronous and don't directly return a value.</em></p>

<pre><code>//Won't work: 
var comments = dpd.comments.get(); 
</code></pre>

<p>This means that your JavaScript will continue to execute and respond to user input while data is loading, which will make your app feel much faster to your users.</p></div><div class="section"><a name="s-Saving data-3475"></a><h3>Saving data <a class="anchor-link" href="#s-Saving data-3475">#</a></h3>

<p>Notice that any comments you add through the app's form are still gone when you refresh. Let's make the form save comments to the database. </p>

<p>Delete these lines from <code>script.js</code> (near line 10, depending on where you put your <code>loadComments()</code> function):</p>

<pre><code>//Clear the form elements
$('#name').val('');
$('#comment').val('');

addComment({
    name: name,
    comment: comment
});
</code></pre>

<p>And replace them with: </p>

<pre><code>dpd.comments.post({
        name: name,
        comment: comment
}, function(comment, error) {
        if (error) return showError(error);

        addComment(comment);
        $('#name').val('');
        $('#comment').val('');
});
</code></pre>

<p>Add a utility function at the very top of <code>script.js</code> to alert any errors we get:</p>

<pre><code>function showError(error) {
        var message = "An error occurred";
        if (error.message) {
                message = error.message;
        } else if (error.errors) {
                var errors = error.errors;
                message = "";
                Object.keys(errors).forEach(function(k) {
                        message += k + ": " + errors[k] + "\n";
                });
        }

        alert(message);
}
</code></pre>

<p>An <code>error</code> object can include either a <code>message</code> property or an <code>errors</code> object containing validation errors. </p>

<p>If you load the page now, you should be able to submit a comment that appears even after you refresh.</p></div><div class="section"><a name="s-Conclusion-3475"></a><h3>Conclusion <a class="anchor-link" href="#s-Conclusion-3475">#</a></h3>

<p>In this tutorial, you saw how to create a simple app in Deployd. In the next part (coming soon), you'll see how to secure this app with Events.</p>

<p>The source code for this chapter includes a few extra features. If you're feeling adventurous, try adding them yourself:</p>

<ul>
<li>A refresh button that reloads the comments without refreshing the page</li>
<li>Edit and Delete links next to each comment. Hint: use the <code>put()</code> and <code>del()</code> functions from dpd.js.</li>
</ul>

<p><a class="btn btn-primary" href="https://github.com/downloads/deployd/examples/comments-1.zip"><i class="icon-white icon-download"></i> Download Source</a></p></div></div>  

    
    <h3 style="text-align: center;">More</h3>

    
    
    <div class="row-fluid">
      <div class="span6 offset3">
        <div class="well">
          <h4>Other docs in "Getting Started"</h4>
          <ul>
            
              <li><a href="../../docs/getting-started/what-is-deployd.html">What is Deployd?</a></li>
            
              <li><a href="../../docs/getting-started/faq.html">FAQ</a></li>
            
              <li><a href="../../docs/getting-started/installing-deployd.html">Installing Deployd</a></li>
            
              <li><a href="../../docs/getting-started/your-first-api.html">Your first Deployd API</a></li>
            
          </ul>
        </div>
      </div>
      
    </div>
  </div>
</div>
    </div>
    
    <div class="docs-nav">
      <div class="container">
        <div class="row">
          <div class="span3">
            <h3>Guides</h3>
            <ul class="nav nav-list">
              
                <li><a href="../../docs/getting-started">Getting Started</a></li>
              
                <li><a href="../../docs/basics">Basics</a></li>
              
                <li><a href="../../docs/collections">Collections</a></li>
              
                <li><a href="../../docs/users">Users</a></li>
              
                <li><a href="../../docs/using-modules">Using Modules</a></li>
              
                <li><a href="../../docs/server">The Deployd Server</a></li>
              
                <li><a href="../../docs/developing-modules">Developing Modules</a></li>
              
            </ul>
          </div>
          <div class="span3">
            <h3>APIs</h3>
            <ul class="nav nav-list">
              
                <li class="nav-header"><a href="../../docs/collections/reference">Collections</a></li>
                
                  <li><a href="../../docs/collections/reference/event-api.html">Event API</a></li>
                
                  <li><a href="../../docs/collections/reference/http.html">Over HTTP</a></li>
                
                  <li><a href="../../docs/collections/reference/querying-collections.html">Querying Collections</a></li>
                
                  <li><a href="../../docs/collections/reference/updating-objects.html">Updating Objects in Collections</a></li>
                
                  <li><a href="../../docs/collections/reference/dpd-js.html">Using dpd.js</a></li>
                
              
                <li class="nav-header"><a href="../../docs/using-modules/reference">Using Modules</a></li>
                
                  <li><a href="../../docs/using-modules/reference/dpd-js.html">Dpd.js for Custom Resources</a></li>
                
                  <li><a href="../../docs/using-modules/reference/event-api.html">Event API for Custom Resources</a></li>
                
              
                <li class="nav-header"><a href="../../docs/developing-modules/internal-api">Developing Modules</a></li>
                
                  <li><a href="../../docs/developing-modules/internal-api/collection.html">Collection Resource Type</a></li>
                
                  <li><a href="../../docs/developing-modules/internal-api/context.html">Context</a></li>
                
                  <li><a href="../../docs/developing-modules/internal-api/script.html">Event Scripts</a></li>
                
                  <li><a href="../../docs/developing-modules/internal-api/internal-client.html">Internal Client</a></li>
                
                  <li><a href="../../docs/developing-modules/internal-api/resource.html">Resource Types</a></li>
                
                  <li><a href="../../docs/developing-modules/internal-api/server.html">Server</a></li>
                
                  <li><a href="../../docs/developing-modules/internal-api/session.html">Session</a></li>
                
                  <li><a href="../../docs/developing-modules/internal-api/session-store.html">Session Store</a></li>
                
                  <li><a href="../../docs/developing-modules/internal-api/store.html">Store</a></li>
                
              
            </ul>
          </div>
          <div class="span3">
            <h3>Examples</h3>
            <ul class="nav nav-list">
              
                <li class="nav-header"><a href="../../docs/collections">Collections</a></li>
                
                  <li><a href="../../docs">A Simple Todo App</a></li>
                
                  <li><a href="../../docs">A Simple Todo App with AngularJS</a></li>
                
                  <li><a href="../../docs">A Simple Todo App with Backbone.js</a></li>
                
                  <li><a href="../../docs">Chatroom</a></li>
                
              
                <li class="nav-header"><a href="../../docs/users">Users</a></li>
                
                  <li><a href="../../docs">Microblogging app</a></li>
                
                  <li><a href="../../docs">Simple Login Form</a></li>
                
              
                <li class="nav-header"><a href="../../docs/developing-modules">Developing Modules</a></li>
                
                  <li><a href="../../docs">Email Resource</a></li>
                
                  <li><a href="../../docs">Event Resource</a></li>
                
                  <li><a href="../../docs">S3 Bucket Resource</a></li>
                
              
            </ul>
          </div>
          <div class="span3">
            <div id="feedback">
              <h3>Feedback</h3>
              <p>Let us know if you have any ideas to improve our docs. Open an <a href="https://github.com/deployd/docs/issues">issue on github</a>, <a href="mailto: hello@deployd.com">send us an email</a>, or <a href="https://twitter.com/deploydapp">tweet us</a>.</p>
            </div>
            <div id="download">
              <h3>Edit or Download these Docs</h3>
              <p>This entire site, including documentation written in markdown is <a href="https://github.com/deployd/docs">available on github</a>. Pull requests are appreciated!</p>
            </div>
          </div>
        </div>
      </div>
    </div>
    <footer>
      <div class="container">
        <div class="row">
          <div class="span navigation">
            <dl>
              <dt><img src="//deployd.com/img/footer-dt.png" alt="deployd"></dt>
              <dd><a href="http://deployd.com/">Home</a></dd>
              <dd><a href="http://deployd.com/video.html">Screencast</a></dd>
              <dd><a href="http://deployd.com/features.html">Features</a></dd>
              <dd><a href="https://github.com/deployd/deployd/issues">Support</a></dd>
            </dl>
            <dl>
              <dt>documentation</dt>
              <dd><a href="http://docs.deployd.com/guides">Guides</a></dd>
              <dd><a href="http://docs.deployd.com/api">API</a></dd>
              <dd><a href="http://docs.deployd.com/examples">Examples</a></dd>
              <dd><a href="http://docs.deployd.com/modules">Modules</a></dd>
            </dl>
            <dl>
              <dt>community</dt>
              <dd><a href="http://deployd.com/community.html">Questions</a></dd>
              <dd><a href="https://twitter.com/deploydapp">Tweets</a></dd>
              <dd><a href="https://github.com/deployd/deployd/issues">Issues</a></dd>
              <dd><a href="https://github.com/deployd/deployd">Github</a></dd>
            </dl>
            <dl>
              <dt>contact</dt>
              <dd><a href="mailto:hello@deployd.com">hello@deployd.com</a></dd>
            </dl>
          </div>
          <div class="span logo-container">
            <div class="logo">
              <img src="//deployd.com/img/footer-logo.png" alt="deployd">
            </div>
          </div>
          <div class="span email-container">
            <dl id="mc_embed_signup" class="span4">
            <dt>Get deployd emails</dt>
            <dd>
              <form action="http://deployd.us2.list-manage.com/subscribe/post?u=4f1b944ba8c90738eb8e3fa3c&amp;id=7bb18e6b80" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate form-vertical" target="_blank" novalidate="">
              <div class="mc-field-group">
                <input type="email" placeholder="your@email" value="" name="EMAIL" class="required email" id="mce-EMAIL"><input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button btn">
              </div>
                <div id="mce-responses" class="clear">
                  <div class="response" id="mce-error-response" style="display:none"></div>
                  <div class="response" id="mce-success-response" style="display:none"></div>
                </div>
              </form>
            </dd>
          </dl>
          </div>
        </div>
      </div>
    </footer>
    <script src="../../javascripts/app.js"></script>
  </body>
</html>
